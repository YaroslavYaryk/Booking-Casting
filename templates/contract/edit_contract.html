{% extends 'base/auth_base.html' %}
{% load static %}
{% load widget_tweaks %}


{% block title %}
      <title>Edit Contract: {{artist.name}}</title>
{% endblock title %}


{% block content %}

{% block messages %}{% endblock messages %}

<form method="POST" enctype="multipart/form-data">{% csrf_token %}
<div class="row g-0">
  <div class="col-lg-8 pe-lg-2">
    <div class="card mb-3">
      <div class="card-header d-flex justify-content-between align-items-center" >
        <h5 class="mb-0">Contract</h5>
        <div class="add_ability d-flex justify-content-between align-items-center" 
            >
        </div>
        
      </div>
      <div class="card-body bg-light">
          <div class="row gx-2">
            
            <div class="col-6 mb-3">
              <label class="form-label" for="form.customer">Customer</label>
              <input type="text" class="form-control" disabled value="{{customer}}">
            </div>
            <div class="col-6 mb-3">
              <label class="form-label" for="form.artist">Artist</label>
              <input type="text" class="form-control" disabled value="{{artist}}">
            </div>
            <div class="col-6 mb-3">
              <label class="form-label" for="form.venue">Venue</label>
              {{ form.venue|add_class:'form-control'}}
              <div class="form-error">
                {{ form.venue.errors }}
              </div>
            </div>
            <div class="col-6 mb-3">
              <label class="form-label" for="form.company">Company</label>
              {{ form.company|add_class:'form-control'}}
              <div class="form-error">
                {{ form.company.errors }}
              </div>
            </div>
            <div class="col-6 mb-3">
                <label class="form-label" for="form.company">Price</label>
                {{ form.price|add_class:'form-control'}}
                <div class="form-error">
                  {{ form.price.errors }}
                </div>
              </div>
              <div class="col-6 mb-3">
                <label class="form-label" for="form.company">Date</label>
                {{ form.date|add_class:'form-control datetimepicker'}}
                <div class="form-error">
                  {{ form.date.errors }}
                </div>
              </div>
              <div class="col-12 mb-3">
                <label class="form-label" for="form.company">Payment Methods</label>
                {{ form.payment_methods|add_class:'form-control'}}
                <div class="form-error">
                  {{ form.payment_methods.errors }}
                </div>
              </div>
              <div class="col-12 mb-3">
                <label class="form-label" for="form.company">Comments</label>
                {{ form.comment|add_class:'form-control'}}
                <div class="form-error">
                  {{ form.comment.errors }}
                </div>
              </div>
              <div class="col-12 mb-3">
                <label class="form-label" for="form.company">Aditional</label>
                {{ form.aditional_staff}}
                <div class="form-error">
                  {{ form.aditional_staff.errors }}
                </div>
              </div>
              
            {% if error_message %}
              <div class="block" style="display: flex; justify-content:space-between;">
                <a href="{% url 'cancel_contract' contract.id 'customer' %}" class="btn btn-danger">Discard</a>
                <button class="btn btn-primary me-1 mb-1" type="submit">To Contract</button>
              </div>
              {% else %}

              <button class="btn btn-primary me-1 mb-1" type="submit">To Contract</button>
            {% endif %}
          </div>
      </div>
    </div>

  </div>

  
</div>

</form>

<script>

  var id_aditional_staff = document.getElementById("id_aditional_staff")
  id_aditional_staff.style.cssText = `
    display: flex;
    justify-content: space-between;
    width: 100%;
    flex-wrap: wrap;
  `
  console.log(id_aditional_staff)

</script>

{% endblock %}
